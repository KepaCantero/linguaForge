/Users/kepa.cantero/Projects/frenchWebApp/src/app/api/youtube/transcript/route.ts

   21:8  error  Async function 'GET' has a complexity of 12. Maximum allowed is 10                     complexity

  113:1  error  Async function 'fetchYouTubeTranscript' has a complexity of 44. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/decks/review/page.tsx

  15:1  error  Function 'ReviewPageContent' has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/import/page.tsx

  27:1  error  Function 'ImportPageContent' has a complexity of 13. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/input/text/page.tsx

  13:16  error  Function 'TextInputPage' has a complexity of 12. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/input/video/page.tsx

  13:16  error  Function 'VideoInputPage' has a complexity of 17. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/learn/imported/[nodeId]/exercises/page.tsx

  25:1  error  Function 'ExercisesPageContent' has a complexity of 26. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/learn/node/[nodeId]/lesson/[lessonId]/page.tsx

   49:1   error  Function 'buildExerciseCategories' has a complexity of 12. Maximum allowed is 10  complexity

  197:16  error  Function 'LessonPage' has a complexity of 17. Maximum allowed is 10               complexity

  223:50  error  Arrow function has a complexity of 11. Maximum allowed is 10                      complexity

  479:26  error  Arrow function has a complexity of 14. Maximum allowed is 10                      complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/app/learn/node/[nodeId]/page.tsx

  41:16  error  Function 'NodePage' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/auth/LoginForm.tsx

  10:8  error  Function 'LoginForm' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/BlockSwapExercise.tsx

  67:35  error  Arrow function has a complexity of 12. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ClozeExercise.tsx

   16:8   error  Function 'ClozeExercise' has a complexity of 18. Maximum allowed is 10  complexity

  149:51  error  Arrow function has a complexity of 13. Maximum allowed is 10            complexity

  249:34  error  Arrow function has a complexity of 16. Maximum allowed is 10            complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ConversationalEchoExercise.tsx

   48:8   error  Function 'ConversationalEchoExercise' has a complexity of 32. Maximum allowed is 10  complexity

  156:40  error  Arrow function has a complexity of 17. Maximum allowed is 10                         complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/DialogueIntonationExercise.tsx

  38:8  error  Function 'DialogueIntonationExercise' has a complexity of 24. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ForgeMandateExercise.tsx

  35:8   error  Function 'ForgeMandateExercise' has a complexity of 11. Maximum allowed is 10  complexity

  44:13  error  Arrow function has a complexity of 12. Maximum allowed is 10                   complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/InteractiveSpeechExercise.tsx

  38:8  error  Function 'InteractiveSpeechExercise' has a complexity of 23. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/JanusComposerExercise.tsx

   75:8   error  Function 'JanusComposerExercise' has a complexity of 27. Maximum allowed is 10  complexity

  357:37  error  Arrow function has a complexity of 14. Maximum allowed is 10                    complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/MiniTaskExercise.tsx

  17:8  error  Function 'MiniTaskExercise' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/PragmaStrikeExercise.tsx

   16:8   error  Function 'PragmaStrikeExercise' has a complexity of 28. Maximum allowed is 10  complexity

  175:31  error  Arrow function has a complexity of 12. Maximum allowed is 10                   complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ResonancePathExercise.tsx

  18:8  error  Function 'ResonancePathExercise' has a complexity of 22. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ShadowingExercise.tsx

  17:8  error  Function 'ShadowingExercise' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/ShardDetectionExercise.tsx

   16:8   error  Function 'ShardDetectionExercise' has a complexity of 18. Maximum allowed is 10  complexity

  159:30  error  Arrow function has a complexity of 15. Maximum allowed is 10                     complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/VariationsExercise.tsx

  16:8  error  Function 'VariationsExercise' has a complexity of 23. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/exercises/VocabularyExercise.tsx

  85:31  error  Arrow function has a complexity of 15. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/focus/FocusMode.tsx

  87:8  error  Function 'FocusMode' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/gamification/PostCognitiveRewards.tsx

  21:8  error  Function 'PostCognitiveRewards' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/learn/CourseMap.tsx

  81:29  error  Arrow function has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/missions/MissionFeed.tsx

  291:1  error  Function 'MissionCard' has a complexity of 20. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/session/SessionSummary.tsx

  58:33  error  Arrow function has a complexity of 13. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/shared/FocusMode.tsx

  31:8  error  Function 'FocusMode' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/shared/MicroInteractions.tsx

  139:8  error  Function 'MicroInteraction' has a complexity of 12. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/shared/RhythmVisualizer.tsx

  12:8  error  Function 'calculateRhythmSimilarity' has a complexity of 12. Maximum allowed is 10  complexity

  89:8  error  Function 'RhythmVisualizer' has a complexity of 15. Maximum allowed is 10           complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/shared/SpeechRecorder.tsx

  34:8  error  Function 'SpeechRecorder' has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/transcript/PhraseSelectionPanel.tsx

   9:10  error  'useTTS' is defined but never used                                             @typescript-eslint/no-unused-vars

  25:8   error  Function 'PhraseSelectionPanel' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/transcript/TranscriptSelector.tsx

  68:44  error  Arrow function has a complexity of 12. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/visualization/BrainZoneActivation.tsx

  304:1  error  Function 'BrainZoneCircle' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/visualization/KrashenRings.tsx

  83:8  error  Function 'KrashenRings' has a complexity of 39. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/components/visualization/SynapticDensity.tsx

  103:55  error  Arrow function has a complexity of 15. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/hooks/useExerciseProgress.ts

  33:40  error  Arrow function has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/hooks/useKeyboardShortcuts.ts

  73:1  error  Function 'getShortcutAction' has a complexity of 34. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/hooks/useLesson.ts

  27:33  error  Async arrow function has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/hooks/useLessonExercises.ts

  72:48  error  Arrow function has a complexity of 27. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/lib/services/progressService.ts

   37:8  error  Async function 'saveExerciseCompletion' has a complexity of 14. Maximum allowed is 10  complexity

  255:8  error  Async function 'updateStreak' has a complexity of 13. Maximum allowed is 10            complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/middleware.ts

  4:8  error  Async function 'middleware' has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/schemas/content.ts

  743:3  error  Arrow function has a complexity of 15. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/cognitiveLoadMetrics.ts

  165:8  error  Function 'calculateGermaneLoad' has a complexity of 11. Maximum allowed is 10              complexity

  465:8  error  Function 'calculateSynapticDensity' has a complexity of 12. Maximum allowed is 10          complexity

  634:8  error  Function 'calculateNeuroDesignMetrics' has too many parameters (11). Maximum allowed is 5  max-params



/Users/kepa.cantero/Projects/frenchWebApp/src/services/errorHandler.ts

  74:1  error  Function 'classifyError' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/generateExercisesFromPhrases.ts

  278:21  error  Method 'extractComplements' has a complexity of 11. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/lessonLoader.ts

  15:8  error  Async function 'loadLesson' has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/missionGenerator.ts

  303:11  error  Arrow function has a complexity of 13. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/postCognitiveFeedback.ts

  173:1  error  Function 'identifyStrengthsAndWeaknesses' has a complexity of 11. Maximum allowed is 10  complexity

  225:1  error  Function 'generateRecommendations' has a complexity of 12. Maximum allowed is 10         complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/postCognitiveRewards.ts

  264:1  error  Function 'detectAchievements' has a complexity of 14. Maximum allowed is 10       complexity

  324:1  error  Function 'generateSessionFeedback' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/repository/baseRepository.ts

  162:17  error  Async method 'findMany' has a complexity of 23. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/syncService.ts

  111:8  error  Async function 'syncGamification' has a complexity of 19. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/wordExtractor.ts

  30:8  error  Function 'detectWordType' has a complexity of 39. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/services/youtubeTranscriptService.ts

  42:8  error  Async function 'getYouTubeTranscript' has a complexity of 16. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/store/useSRSStore.ts

  212:17  error  Method 'getStats' has a complexity of 14. Maximum allowed is 10  complexity



/Users/kepa.cantero/Projects/frenchWebApp/src/store/useWarmupStore.ts

  52:10  error  'getTodayString' is defined but never used  @typescript-eslint/no-unused-vars

隆Vaya! El Quality Gate ha hecho su trabajo, pero te ha dejado una lista de deberes importante. Lo que est谩s viendo es el resultado de una regla estricta: la Complejidad Ciclom谩tica.

La complejidad 10 es un est谩ndar de "excelencia" (tipo Clean Code), pero tienes funciones como fetchYouTubeTranscript con 44, lo que significa que ese c贸digo tiene 44 caminos posibles diferentes. Es un im谩n de bugs y muy dif铆cil de testear.

Aqu铆 tienes el plan de ataque para "domar" estas m茅tricas sin romper la funcionalidad:

 Estrategias de Refactorizaci贸n
1. El Patr贸n de Estrategia (Adi贸s a los switch gigantes)
Muchos de tus errores (como getShortcutAction con 34 o detectWordType con 39) suelen venir de un switch o muchos if/else. Soluci贸n: Reemplaza la l贸gica por un objeto de mapeo.

Antes (Complejo):

TypeScript
if (type === 'v') return 'verb';
else if (type === 'n') return 'noun';
// ... 30 veces m谩s
Despu茅s (Complejidad 1):

TypeScript
const WORD_TYPES: Record<string, string> = { v: 'verb', n: 'noun' };
const detectWordType = (type: string) => WORD_TYPES[type] || 'unknown';
2. Guard Clauses (Retornos Tempranos)
Si tienes muchos if anidados, la complejidad se dispara exponencialmente. Soluci贸n: Limpia el camino principal devolviendo errores lo antes posible.

T茅cnica:

TypeScript
// En lugar de:
if (user) {
  if (authorized) {
    // ... l贸gica
  }
}

// Usa:
if (!user) return;
if (!authorized) return;
// ... l贸gica plana
3. Extraer L贸gica de los Componentes (Custom Hooks)
Tus componentes como ConversationalEchoExercise (32) o KrashenRings (39) est谩n haciendo demasiadas cosas: gestionan estado, calculan visualizaci贸n y manejan eventos. Soluci贸n: Mueve toda la l贸gica de c谩lculo a un Custom Hook o a una funci贸n pura fuera del componente. El componente solo debe renderizar.

 Prioridades de Refactorizaci贸n
He analizado tu log. Deber铆as atacar estos tres por ser los "puntos calientes" del sistema:

Archivo / Funci贸n	Complejidad	Impacto	Acci贸n Sugerida
fetchYouTubeTranscript	44	Cr铆tico	Divide en: fetchRaw, parseTranscript y formatData.
detectWordType	39	Alto	Usa un objeto Map o un set de RegEx externos.
getShortcutAction	34	Medio	Mueve las combinaciones de teclas a un archivo de configuraci贸n JSON.
KrashenRings	39	Visual	Divide el SVG en sub-componentes (Ring, Label, Connections).
 Ejemplo Pr谩ctico: Refactorizando fetchYouTubeTranscript (Complejidad 44)
Seguramente tienes un bucle con muchos if para limpiar el texto. Podemos usar el principio de Responsabilidad nica:

TypeScript
// 1. Funciones puras peque帽as (Complejidad 1-2 cada una)
const cleanText = (text: string) => text.replace(/\[.*\]/g, '').trim();
const isValidEntry = (entry: any) => entry.offset && entry.text;

// 2. La funci贸n principal ahora es un "orquestador"
async function fetchYouTubeTranscript(id: string) {
  const rawData = await api.get(id);

  // Usamos m茅todos de array para evitar ifs y bucles complejos
  return rawData
    .filter(isValidEntry)
    .map(entry => ({
      ...entry,
      text: cleanText(entry.text)
    }));
}
